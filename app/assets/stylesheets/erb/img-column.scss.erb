@mixin shaded-background-image($image, $shading) {
  background: $shading;
  background-image: image-url($image);
  background-image: -webkit-gradient(linear, left top, left bottom, from($shading), to($shading)), image-url($image); /* Saf4+, Chrome */
  background-image: -webkit-linear-gradient(top, $shading, $shading), image-url($image); /* Chrome 10+, Saf5.1+ */
  background-image: -moz-linear-gradient(top, $shading, $shading), image-url($image); /* FF3.6+ */
  background-image: -ms-linear-gradient(top, $shading, $shading), image-url($image); /* IE10 */
  background-image: -o-linear-gradient(top, $shading, $shading), image-url($image); /* Opera 11.10+ */
  background-image: linear-gradient(to bottom, $shading, $shading), image-url($image); /* W3C */
}

@mixin background-image($image) {
  background-image: image-url($image);
  &.shaded {
    @include shaded-background-image($image, rgba(0, 0, 0, 0.6));
    &:hover {
      @include shaded-background-image($image, rgba(0, 0, 0, 0.5));
    }
  }
}

.img-column {
  .image-content {
    <% if Cms::Site.any? %>
    <% Cms::Site.first.files.images.for_category('image-content').each do |img| %>
    &.<%= img.label %> {
      @include background-image('<%= img.file.url %>');
    }
    <% end %>
    <% end %>
  }
}
